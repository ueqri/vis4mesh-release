function t(t){return t&&t.__esModule?t.default:t}class e{constructor(t,e){this.startTime=this.endTime=0,this.port=t,this.view=e,this.modules=new Array}loadModules(t){return this.modules=[...this.modules,...t],t.forEach((t=>t.invokeController(this))),this}requestDataPort(){return this.port.range(this.startTime,this.endTime,(t=>{let e=JSON.parse(t),n={meta:e.meta,nodes:e.nodes,edges:e.edges};this.modules.forEach((t=>{t.decorateData(e,n)})),this.view.renderData(n)}))}}var n={value:()=>{}};function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function s(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function a(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=o(t+"",r),u=-1,l=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=i[u]).type)r[n]=a(r[n],t.name,e);else if(null==e)for(n in r)r[n]=a(r[n],t.name,null);return this}for(;++u<l;)if((n=(t=i[u]).type)&&(n=s(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var u=r,l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),l.hasOwnProperty(e)?{space:l[e],local:t}:t}function h(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===e.documentElement.namespaceURI?e.createElement(t):e.createElementNS(n,t)}}function f(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function p(t){var e=c(t);return(e.local?f:h)(e)}function d(){}function m(t){return null==t?d:function(){return this.querySelector(t)}}function g(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function v(){return[]}function y(t){return function(e){return e.matches(t)}}var b=Array.prototype.find;function w(){return this.firstElementChild}var x=Array.prototype.filter;function S(){return Array.from(this.children)}function _(t){return new Array(t.length)}function k(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function E(t){return function(){return t}}function N(t,e,n,r,i,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new k(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function M(t,e,n,r,i,o,s){var a,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l=s.call(u,u.__data__,a,e)+"",c.has(l)?i[a]=u:c.set(l,u));for(a=0;a<f;++a)l=s.call(t,o[a],a,o)+"",(u=c.get(l))?(r[a]=u,u.__data__=o[a],c.delete(l)):n[a]=new k(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&c.get(p[a])===u&&(i[a]=u)}function P(t){return t.__data__}function A(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function T(t){return function(){this.removeAttribute(t)}}function z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V(t,e){return function(){this.setAttribute(t,e)}}function D(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function X(t){return function(){this.style.removeProperty(t)}}function Y(t,e,n){return function(){this.style.setProperty(t,e,n)}}function R(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||O(t).getComputedStyle(t,null).getPropertyValue(e)}function j(t){return function(){delete this[t]}}function B(t,e){return function(){this[t]=e}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function q(t){return t.classList||new I(t)}function I(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function W(t,e){for(var n=q(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function G(t,e){for(var n=q(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function K(t){return function(){W(this,t)}}function J(t){return function(){G(this,t)}}function Q(t,e){return function(){(e.apply(this,arguments)?W:G)(this,t)}}function Z(){this.textContent=""}function tt(t){return function(){this.textContent=t}}function et(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function nt(){this.innerHTML=""}function rt(t){return function(){this.innerHTML=t}}function it(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function st(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function at(){return null}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function lt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ct(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ht(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ft(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function pt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function dt(t,e,n){var r=O(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function mt(t,e){return function(){return dt(this,t,e)}}function gt(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}k.prototype={constructor:k,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},I.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vt=[null];function yt(t,e){this._groups=t,this._parents=e}function bt(){return new yt([[document.documentElement]],vt)}yt.prototype=bt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],u=a.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),l[c]=s);return new yt(r,this._parents)},selectAll:function(t){var e;"function"==typeof t?t=function(t){return function(){return g(t.apply(this,arguments))}}(t):t=null==(e=t)?v:function(){return this.querySelectorAll(e)};for(var n=this._groups,r=n.length,i=[],o=[],s=0;s<r;++s)for(var a,u=n[s],l=u.length,c=0;c<l;++c)(a=u[c])&&(i.push(t.call(a,a.__data__,c,u)),o.push(a));return new yt(i,o)},selectChild:function(t){return this.select(null==t?w:function(t){return function(){return b.call(this.children,t)}}("function"==typeof t?t:y(t)))},selectChildren:function(t){return this.selectAll(null==t?S:function(t){return function(){return x.call(this.children,t)}}("function"==typeof t?t:y(t)))},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var s,a=n[o],u=a.length,l=i[o]=[],c=0;c<u;++c)(s=a[c])&&t.call(s,s.__data__,c,a)&&l.push(s);return new yt(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,P);var n=e?M:N,r=this._parents,i=this._groups;"function"!=typeof t&&(t=E(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=A(t.call(c,c&&c.__data__,l,r)),d=p.length,m=a[l]=new Array(d),g=s[l]=new Array(d),v=u[l]=new Array(f);n(c,h,m,g,v,p,e);for(var y,b,w=0,x=0;w<d;++w)if(y=m[w]){for(w>=x&&(x=w+1);!(b=g[x])&&++x<d;);y._next=b||null}}return(s=new yt(s,r))._enter=a,s._exit=u,s},enter:function(){return new yt(this._enter||this._groups.map(_),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(_),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l,c=n[u],h=r[u],f=c.length,p=a[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)a[u]=n[u];return new yt(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new yt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=c(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?z:T:"function"==typeof e?n.local?L:U:n.local?D:V)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?X:"function"==typeof e?R:Y)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?j:"function"==typeof e?F:B)(t,e)):this.node()[t]},classed:function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=q(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Q:e?K:J)(n,e))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?et:tt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?nt:("function"==typeof t?it:rt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(st)},append:function(t){var e="function"==typeof t?t:p(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:p(t),r=null==e?at:"function"==typeof e?e:m(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ut)},clone:function(t){return this.select(t?ct:lt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=ht(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?pt:ft,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?gt:mt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};function wt(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],vt)}function xt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const St={capture:!0,passive:!1};function _t(t){t.preventDefault(),t.stopImmediatePropagation()}function kt(t){var e=t.document.documentElement,n=wt(t).on("dragstart.drag",_t,St);"onselectstart"in e?n.on("selectstart.drag",_t,St):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Et(t,e){var n=t.document.documentElement,r=wt(t).on("dragstart.drag",null);e&&(r.on("click.drag",_t,St),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Nt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pt(){}var At="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tt=/^#([0-9a-f]{3,8})$/,zt=new RegExp("^rgb\\("+["\\s*([+-]?\\d+)\\s*","\\s*([+-]?\\d+)\\s*","\\s*([+-]?\\d+)\\s*"]+"\\)$"),Vt=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),Dt=new RegExp("^rgba\\("+["\\s*([+-]?\\d+)\\s*","\\s*([+-]?\\d+)\\s*","\\s*([+-]?\\d+)\\s*",At]+"\\)$"),Ut=new RegExp("^rgba\\("+[Ct,Ct,Ct,At]+"\\)$"),Lt=new RegExp("^hsl\\("+[At,Ct,Ct]+"\\)$"),Ot=new RegExp("^hsla\\("+[At,Ct,Ct,At]+"\\)$"),Xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yt(){return this.rgb().formatHex()}function Rt(){return this.rgb().formatRgb()}function Ht(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jt(e):3===n?new qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zt.exec(t))?new qt(e[1],e[2],e[3],1):(e=Vt.exec(t))?new qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Dt.exec(t))?Bt(e[1],e[2],e[3],e[4]):(e=Ut.exec(t))?Bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Lt.exec(t))?Kt(e[1],e[2]/100,e[3]/100,1):(e=Ot.exec(t))?Kt(e[1],e[2]/100,e[3]/100,e[4]):Xt.hasOwnProperty(t)?jt(Xt[t]):"transparent"===t?new qt(NaN,NaN,NaN,0):null}function jt(t){return new qt(t>>16&255,t>>8&255,255&t,1)}function Bt(t,e,n,r){return r<=0&&(t=e=n=NaN),new qt(t,e,n,r)}function Ft(t){return t instanceof Pt||(t=Ht(t)),t?new qt((t=t.rgb()).r,t.g,t.b,t.opacity):new qt}function $t(t,e,n,r){return 1===arguments.length?Ft(t):new qt(t,e,n,null==r?1:r)}function qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function It(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Wt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Kt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function Jt(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=Ht(t)),!t)return new Qt;if(t instanceof Qt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Qt(s,a,u,t.opacity)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function te(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}Nt(Pt,Ht,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Yt,formatHex:Yt,formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Rt,toString:Rt}),Nt(qt,$t,Mt(Pt,{brighter:function(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:It,formatHex:It,formatRgb:Wt,toString:Wt})),Nt(Qt,(function(t,e,n,r){return 1===arguments.length?Jt(t):new Qt(t,e,n,null==r?1:r)}),Mt(Pt,{brighter:function(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qt(Zt(t>=240?t-240:t+120,i,r),Zt(t,i,r),Zt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ee=t=>()=>t;function ne(t,e){return function(n){return t+n*e}}function re(t){return 1==(t=+t)?ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ee(isNaN(e)?n:e)}}function ie(t,e){var n=e-t;return n?ne(t,n):ee(isNaN(t)?e:t)}(function t(e){var n=re(e);function r(t,e){var r=n((t=$t(t)).r,(e=$t(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=ie(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r})(1);function oe(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=$t(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}var se=oe((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return te((n-r/e)*e,s,i,o,a)}}));oe((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return te((n-r/e)*e,i,o,s,a)}}));var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;new RegExp(ae.source,"g");function ue(t){return((t=Math.exp(t))+1/t)/2}var le,ce,he=function t(e,n,r){function i(t,i){var o,s,a=t[0],u=t[1],l=t[2],c=i[0],h=i[1],f=i[2],p=c-a,d=h-u,m=p*p+d*d;if(m<1e-12)s=Math.log(f/l)/e,o=function(t){return[a+t*p,u+t*d,l*Math.exp(e*t*s)]};else{var g=Math.sqrt(m),v=(f*f-l*l+r*m)/(2*l*n*g),y=(f*f-l*l-r*m)/(2*f*n*g),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);s=(w-b)/e,o=function(t){var r,i=t*s,o=ue(b),c=l/(n*g)*(o*(r=e*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+c*p,u+c*d,l*o/ue(e*i+b)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),fe=0,pe=0,de=0,me=0,ge=0,ve=0,ye="object"==typeof performance&&performance.now?performance:Date,be="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function we(){return ge||(be(xe),ge=ye.now()+ve)}function xe(){ge=0}function Se(){this._call=this._time=this._next=null}function _e(t,e,n){var r=new Se;return r.restart(t,e,n),r}function ke(){ge=(me=ye.now())+ve,fe=pe=0;try{!function(){we(),++fe;for(var t,e=le;e;)(t=ge-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fe}()}finally{fe=0,function(){var t,e,n=le,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:le=e);ce=t,Ne(r)}(),ge=0}}function Ee(){var t=ye.now(),e=t-me;e>1e3&&(ve-=e,me=t)}function Ne(t){fe||(pe&&(pe=clearTimeout(pe)),t-ge>24?(t<1/0&&(pe=setTimeout(ke,t-ye.now()-ve)),de&&(de=clearInterval(de))):(de||(me=ye.now(),de=setInterval(Ee,1e3)),fe=1,be(ke)))}Se.prototype=_e.prototype={constructor:Se,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?we():+n)+(null==e?0:+e),this._next||ce===this||(ce?ce._next=this:le=this,ce=this),this._call=t,this._time=n,Ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ne())}};u("start","end","cancel","interrupt");function Me(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}const{abs:Pe,max:Ae,min:Ce}=Math;function Te(t){return[+t[0],+t[1]]}function ze(t){return[Te(t[0]),Te(t[1])]}["w","e"].map(Ve),["n","s"].map(Ve),["n","w","e","s","nw","ne","sw","se"].map(Ve);function Ve(t){return{type:t}}var De,Ue=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map((function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n})),Le=se((De=Ue)[De.length-1]),Oe=t=>()=>t;function Xe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ye(t,e,n){this.k=t,this.x=e,this.y=n}Ye.prototype={constructor:Ye,scale:function(t){return 1===t?this:new Ye(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ye(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Re=new Ye(1,0,0);function He(t){t.stopImmediatePropagation()}function je(t){t.preventDefault(),t.stopImmediatePropagation()}function Be(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Fe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function $e(){return this.__zoom||Re}function qe(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ie(){return navigator.maxTouchPoints||"ontouchstart"in this}function We(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}Ye.prototype;var Ge,Ke,Je,Qe,Ze,tn,en={};
/*! @license https://github.com/onury/invert-color */Ge=en,Ke=function(){var t=Math.sqrt(1.05*.05)-.05,e=/^(?:[0-9a-f]{3}){1,2}$/i,n={black:"#000000",white:"#ffffff",threshold:t};function r(t){if("#"===t.slice(0,1)&&(t=t.slice(1)),!e.test(t))throw new Error('Invalid HEX color: "'+t+'"');return 3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function i(t){if(!t)throw new Error("Invalid color value");return Array.isArray(t)?t:"string"==typeof t?r(t):[t.r,t.g,t.b]}function o(t,e,i){var o=!0===e?n:Object.assign({},n,e);return function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e]/255,r[e]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);return.2126*r[0]+.7152*r[1]+.0722*r[2]}(t)>o.threshold?i?r(o.black):o.black:i?r(o.white):o.white}function s(t,e){return void 0===e&&(e=!1),t=i(t),e?o(t,e):"#"+t.map((function(t){var e,n;return e=(255-t).toString(16),void 0===n&&(n=2),(new Array(n).join("0")+e).slice(-n)})).join("")}return function(e){function n(t,e){var n;return t=i(t),{r:(n=e?o(t,e,!0):t.map((function(t){return 255-t})))[0],g:n[1],b:n[2]}}e.asRGB=n,e.asRgbArray=function(t,e){return t=i(t),e?o(t,e,!0):t.map((function(t){return 255-t}))},e.defaultThreshold=t,e.asRgbObject=n}(s||(s={})),s},"object"==typeof en?en=Ke():"function"==typeof define&&define.amd?define(Ke):Ge.invert=Ke();(Qe=Je||(Je={}))[Qe.Normal=0]="Normal",Qe[Qe.Hidden=1]="Hidden",Qe[Qe.Highlight=2]="Highlight",Qe[Qe.Translucent=3]="Translucent";class nn extends class{constructor(){}}{constructor(){super(),this.mapRatio=13,this.paddingX=this.paddingY=10,this.edgeWidth=6.2,this.nodeSize=40,this.labelPadding=4,this.dualEdgeSpace=this.edgeWidth+.4}}class rn extends class{constructor(t){this.div=t}refresh(t){this.render(t)}remove(){wt(this.div).selectAll("*").remove()}}{constructor(t){super(t),this.config=new nn;const e=this.config;let n;wt(this.div).selectAll("svg").remove(),wt(this.div).selectAll("div").remove(),this.tooltipNode=wt(this.div).append("div").attr("class","node-tooltip").style("opacity",.85),this.tooltipEdge=wt(this.div).append("div").attr("class","edge-tooltip").style("opacity",.85),this.svg=wt(this.div).append("svg").attr("transform","scale(0.6)"),this.g=this.svg.append("g");const r=function(){var t,e,n,r=Be,i=Fe,o=We,s=qe,a=Ie,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,f=he,p=u("start","zoom","end"),d=500,m=0,g=10;function v(t){t.property("__zoom",$e).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",N).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Ye(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Ye(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){S(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=S(t,o).event(r),a=i.apply(t,o),u=null==n?w(a):"function"==typeof n?n.apply(t,o):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,o):e,p=f(c.invert(u).concat(l/c.k),h.invert(u).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=p(t),n=l/e[2];t=new Ye(n,u[0]-e[0]*n,u[1]-e[1]*n)}s.zoom(null,t)}}))}function S(t,e,n){return!n&&t.__zooming||new _(t,e)}function _(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(r.apply(this,arguments)){var n=S(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=xt(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Me(this),n.start()}je(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(b(y(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}function h(){n.wheel=null,n.end()}}function E(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=S(this,e,!0).event(t),a=wt(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),u=xt(t,i),l=t.clientX,h=t.clientY;kt(t.view),He(t),s.mouse=[u,this.__zoom.invert(u)],Me(this),s.start()}function f(t){if(je(t),!s.moved){var e=t.clientX-l,n=t.clientY-h;s.moved=e*e+n*n>m}s.event(t).zoom("mouse",o(b(s.that.__zoom,s.mouse[0]=xt(t,i),s.mouse[1]),s.extent,c))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),Et(t.view,s.moved),je(t),s.event(t).end()}}function N(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=xt(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),u=n.k*(t.shiftKey?.5:2),l=o(b(y(n,u),s,a),i.apply(this,e),c);je(t),h>0?wt(this).transition().duration(h).call(x,l,s,t):wt(this).call(v.transform,l,s,t)}}function M(n,...i){if(r.apply(this,arguments)){var o,s,a,u,l=n.touches,c=l.length,h=S(this,i,n.changedTouches.length===c).event(n);for(He(n),s=0;s<c;++s)u=[u=xt(a=l[s],this),this.__zoom.invert(u),a.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),Me(this),h.start())}}function P(t,...e){if(this.__zooming){var n,r,i,s,a=S(this,e).event(t),u=t.changedTouches,l=u.length;for(je(t),n=0;n<l;++n)i=xt(r=u[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],p=a.touch1[0],d=a.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;r=y(r,Math.sqrt(m/g)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(b(r,i,s),a.extent,c))}}function A(t,...r){if(this.__zooming){var i,o,s=S(this,r).event(t),a=t.changedTouches,u=a.length;for(He(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=xt(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var l=wt(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",$e),t!==i?x(t,e,n,r):i.interrupt().each((function(){S(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),u="function"==typeof e?e.apply(this,arguments):e;return o(b(y(r,u),s,a),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,s){v.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return o(Re.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,s)},_.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=wt(this.that).datum();p.call(t,this.that,new Xe(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:p}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:Oe(+t),v):s},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Oe(!!t),v):r},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Oe(!!t),v):a},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Oe([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(h=+t,v):h},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=p.on.apply(p,arguments);return t===p?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}().scaleExtent([.1,20]).on("zoom",(t=>{this.g.attr("transform",n=t.transform),this.g.style("stroke-width",3/Math.sqrt(n.k))}));this.svg.call(r),this.g.append("svg:defs").selectAll("marker").data(["end"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",e.nodeSize/2+e.edgeWidth).attr("refY",0).attr("markerWidth",e.edgeWidth/3.5).attr("markerHeight",e.edgeWidth/3.5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5")}colorScheme(t){let e=0;return null!=t&&(e=t),Le((9-e)/9)}render(e){let n=this.colorScheme,r=this.tooltipNode,i=this.tooltipEdge,o=e.meta.width,s=e.meta.height;const a=this.config,u=o*(a.nodeSize+a.edgeWidth),l=s*(a.nodeSize+a.edgeWidth);let c=t=>{let n={X:0,Y:0};return e.nodes.some((e=>{if(e.id===t)return n.X=Number(t)%o*a.mapRatio*10+a.paddingX,n.Y=Math.floor(Number(t)/s)*a.mapRatio*10+a.paddingY,!0})),n},h=t=>{let e=Number(t)%o;return`[${Math.floor(Number(t)/s)}, ${e}]`};this.svg.attr("viewBox",`0 0 ${u}, ${l}`),this.g.selectAll("line").data(e.edges).join((function(t){return t.append("line").attr("marker-end","url(#end)")}),(function(t){return t}),(function(t){return t.on("end",(function(){wt(this).remove()}))})).attr("x1",(function(t){let e=c(t.source),n=c(t.target);return e.X==n.X?e.Y<n.Y?e.X+a.dualEdgeSpace:e.X-a.dualEdgeSpace:e.X})).attr("x2",(function(t){let e=c(t.source),n=c(t.target);return e.X==n.X?e.Y<n.Y?n.X+a.dualEdgeSpace:n.X-a.dualEdgeSpace:n.X})).attr("y1",(function(t){let e=c(t.source),n=c(t.target);return e.Y==n.Y?e.X<n.X?e.Y-a.dualEdgeSpace:e.Y+a.dualEdgeSpace:e.Y})).attr("y2",(function(t){let e=c(t.source),n=c(t.target);return e.Y==n.Y?e.X<n.X?n.Y-a.dualEdgeSpace:n.Y+a.dualEdgeSpace:n.Y})).attr("stroke-dasharray",(function(t){let e=c(t.source),n=c(t.target);return e.X<n.X||e.Y<n.Y?"5,0":"2,1"})).attr("stroke-width",(function(t){return a.edgeWidth})).attr("opacity",(function(t){return t.style===Je.Translucent?.02:t.style===Je.Hidden?0:1})).on("mouseover",(function(e,r){wt(this).attr("stroke-width",1.8*a.edgeWidth);let o=n(r.weight);return i.style("visibility","visible").style("background-color",o).style("color",t(en)(function(t){let e=t.replace(/[^\d,]/g,"").split(",");return"#"+(16777216+(+e[0]<<16)+(+e[1]<<8)+ +e[2]).toString(16).slice(1)}(o),{black:"#3a3a3a",white:"#fafafa"})).html(`${h(r.source)} -> ${h(r.target)}<br>Weight: ${r.weight}<br>Detail: ${r.detail}`)})).on("mousemove",(function(t,e){return i.style("top",t.pageY+2+"px").style("left",t.pageX+2+"px")})).on("mouseout",(function(t,e){return wt(this).attr("stroke-width",a.edgeWidth),i.style("visibility","hidden")})).transition().attr("stroke",(function(t){return n(t.weight)})),this.g.selectAll("rect").data(e.nodes).join((function(t){return t.append("rect").attr("width",a.nodeSize).attr("height",a.nodeSize).attr("rx",1.5).attr("ry",1.5).attr("stroke","#599dbb").attr("stroke-width","0.18em").attr("fill","#8fbed1")}),(function(t){return t}),(function(t){return t.on("end",(function(){wt(this).remove()}))})).attr("x",(function(t){return c(t.id).X-a.nodeSize/2})).attr("y",(function(t){return c(t.id).Y-a.nodeSize/2})).on("mouseover",(function(t,e){return wt(this).attr("fill","#599dbb"),r.style("visibility","visible").html(`ID in Grid: ${e.id}<br>Coord: ${h(e.id)}<br>Detail: ${e.detail}`)})).on("mousemove",(function(t,e){return r.style("top",t.pageY+2+"px").style("left",t.pageX+2+"px")})).on("mouseout",(function(t,e){return wt(this).attr("fill","#8fbed1"),r.style("visibility","hidden")})),this.g.selectAll(".node-label").data(e.nodes).join((function(t){return t.append("text").attr("class","node-label").attr("dominant-baseline","middle")}),(function(t){return t}),(function(t){return t.on("end",(function(){wt(this).remove()}))})).attr("x",(function(t){return c(t.id).X})).attr("y",(function(t){return c(t.id).Y+.8*a.nodeSize})).transition().text((function(t){return void 0===t.label?"":t.label}));this.g.selectAll(".edge-label").data(e.edges).join((function(t){return t.append("text").attr("class","edge-label").attr("dy",".35em").attr("dominant-baseline","middle")}),(function(t){return t}),(function(t){return t.on("end",(function(){wt(this).remove()}))})).attr("x",(function(t){return(t=>{let e=c(t.source),n=c(t.target);return e.X==n.X?e.Y<n.Y?e.X+a.dualEdgeSpace+a.edgeWidth+2*a.labelPadding:e.X-a.dualEdgeSpace-a.edgeWidth-2*a.labelPadding:(e.X+n.X)/2})(t)})).attr("y",(function(t){return(t=>{let e=c(t.source),n=c(t.target);return e.Y==n.Y?e.X<n.X?e.Y-a.dualEdgeSpace-a.edgeWidth-2*a.labelPadding:e.Y+a.dualEdgeSpace+a.edgeWidth+.75*a.labelPadding:(e.Y+n.Y)/2})(t)})).transition().text((function(t){return void 0===t.label?"":t.label}))}}class on{constructor(t,e){this.layout=new e(t)}renderData(t){this.layout.render(t)}clear(){this.layout.remove()}}class sn{constructor(){this.speed=1,this.step=1}updateSpeed(t){return this.speed<=0?console.error(`InnerTicker speed cannot be set to a non-positive number like ${t}`):this.speed=t,this}updateStep(t){return this.step=t,this}next(t){return Number(t+this.step)}auto(){!0===this.tickFunc()?this.timeoutHandle=setTimeout((()=>this.auto()),1e3/this.speed):console.error(`Tick function failed in InnerTicker: ${this.tickFunc}`)}pause(){clearTimeout(this.timeoutHandle)}manual(){this.tickFunc()}still(){let t=this.step;this.step=0,this.tickFunc(),this.step=t}}(tn=Ze||(Ze={}))[tn.SliceTick=0]="SliceTick",tn[tn.RangeTick=1]="RangeTick";class an{constructor(t){this.t=new sn,this.mode=Ze.SliceTick,this.sliderView=t,this.signal=new Map}initSignalCallbacks(){this.signal.set("speed",(t=>{this.t.updateSpeed(Number(t))})),this.signal.set("step",(t=>{this.t.updateStep(Number(t))})),this.signal.set("state",(t=>{let e=t;"auto"===e?this.t.auto():"pause"===e?this.t.pause():"manual"===e?this.t.manual():"still"===e?this.t.still():console.error(`Unknown state signal ${e} passed to Ticker`)})),this.signal.set("timeStart",(t=>{this.t.pause(),this.controller.startTime=Number(t),this.t.still()})),this.signal.set("timeEnd",(t=>{this.t.pause(),this.controller.endTime=Number(t),this.t.still()}))}decorateData(t,e){this.sliderView.setLeft(this.controller.startTime),this.sliderView.setRight(this.controller.endTime)}invokeController(t){this.controller=t,this.initSignalCallbacks(),this.t.tickFunc=()=>!1!==t.requestDataPort()&&(this.mode===Ze.SliceTick?t.startTime=t.endTime:(this.mode,Ze.RangeTick),t.endTime=this.t.next(t.endTime),!0)}}class un{constructor(){this.signal=new Map}decorateData(t,e){e.edges.forEach(((e,n)=>{e.source=t.edges[n].source,e.target=t.edges[n].target,e.detail=t.edges[n].detail,e.weight=0;for(const r in t.edges[n].value)e.detail+=`${r}: ${t.edges[n].value[r]}<br>`,e.weight+=t.edges[n].value[r];e.label=0===e.weight?"":`${e.weight}`}))}invokeController(t){}}class ln{constructor(){this.signal=new Map}decorateData(t,e){let n=0;e.edges.forEach((t=>{n<t.weight&&(n=t.weight)})),e.edges.forEach((t=>{0!=n&&(t.weight=Math.round(9*t.weight/n))}))}invokeController(t){}}var cn,hn,fn={};cn=fn,hn=function(t){var e,n;function r(t){return"object"==typeof t&&"function"==typeof t.to}function i(t){t.parentElement.removeChild(t)}function o(t){return null!=t}function s(t){t.preventDefault()}function a(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function u(t,e,n){n>0&&(f(t,e),setTimeout((function(){p(t,e)}),n))}function l(t){return Math.max(Math.min(t,100),0)}function c(t){return Array.isArray(t)?t:[t]}function h(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function f(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function p(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function m(t,e){return 100/(e-t)}function g(t,e,n){return 100*e/(t[n+1]-t[n])}function v(t,e){for(var n=1;t>=e[n];)n+=1;return n}function y(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=v(n,t),i=t[r-1],o=t[r],s=e[r-1],a=e[r];return s+function(t,e){return g(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([i,o],n)/m(s,a)}function b(t,e,n,r){if(100===r)return r;var i=v(r,t),o=t[i-1],s=t[i];return n?r-o>(s-o)/2?s:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(r-t[i-1],e[i-1]):r}t.PipsMode=void 0,(e=t.PipsMode||(t.PipsMode={})).Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values",t.PipsType=void 0,(n=t.PipsType||(t.PipsType={}))[n.None=-1]="None",n[n.NoValue=0]="NoValue",n[n.LargeValue=1]="LargeValue",n[n.SmallValue=2]="SmallValue";var w=function(){function t(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e;var i=[];for(Object.keys(t).forEach((function(e){i.push([c(t[e]),e])})),i.sort((function(t,e){return t[0][0]-e[0][0]})),r=0;r<i.length;r++)this.handleEntryPoint(i[r][1],i[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return t.prototype.getDistance=function(t){for(var e=[],n=0;n<this.xNumSteps.length-1;n++)e[n]=g(this.xVal,t,n);return e},t.prototype.getAbsoluteDistance=function(t,e,n){var r,i=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[i+1];)i++;else t===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);n||t!==this.xPct[i+1]||i++,null===e&&(e=[]);var o=1,s=e[i],a=0,u=0,l=0,c=0;for(r=n?(t-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-t)/(this.xPct[i+1]-this.xPct[i]);s>0;)a=this.xPct[i+1+c]-this.xPct[i+c],e[i+c]*o+100-100*r>100?(u=a*r,o=(s-100*r)/e[i+c],r=1):(u=e[i+c]*a/100*o,o=0),n?(l-=u,this.xPct.length+c>=1&&c--):(l+=u,this.xPct.length-c>=1&&c++),s=e[i+c]*o;return t+l},t.prototype.toStepping=function(t){return t=y(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=v(n,e),i=t[r-1],o=t[r],s=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(n-s)*m(s,e[r]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return t=b(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,n){var r=v(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},t.prototype.getNearbySteps=function(t){var e=v(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(h);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var n;if(!a(n="min"===t?0:"max"===t?100:parseFloat(t))||!a(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(e[0]);var r=Number(e[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=g([this.xVal[t],this.xVal[t+1]],e,0)/m(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),i=this.xVal[t]+this.xNumSteps[t]*r;this.xHighestCompleteStep[t]=i}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),x={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},S={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_=".__tooltips",k=".__aria";function E(t,e){if(!a(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function N(t,e){if(!a(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function M(t,e){if(!a(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function P(t,e){if(!a(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function A(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new w(e,t.snap||!1,t.singleStep)}function C(t,e){if(e=c(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function T(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function z(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function V(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function D(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function U(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function L(t,e){if(!a(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function O(t,e){if(!a(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function X(t,e){var n;if(!a(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!a(e[0])&&!a(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],n=0;n<t.spectrum.xNumSteps.length-1;n++)if(t.padding[0][n]<0||t.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=e[0]+e[1],i=t.spectrum.xVal[0];if(r/(t.spectrum.xVal[t.spectrum.xVal.length-1]-i)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Y(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0,u=e.indexOf("drag-all")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");L(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||o,drag:r,dragAll:u,fixed:i,snap:o,hover:s,unconstrained:a}}function H(t,e){if(!1!==e)if(!0===e||r(e)){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(e)}else{if((e=c(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach((function(t){if("boolean"!=typeof t&&!r(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=e}}function j(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function B(t,e){if(!r(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function F(t,e){if(!function(t){return r(t)&&"function"==typeof t.from}(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function $(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function q(t,e){t.documentElement=e}function I(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function W(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(n){t.cssClasses[n]=t.cssPrefix+e[n]}))):t.cssClasses=e}function G(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:x,format:x},n={step:{r:!1,t:E},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:M},keyboardDefaultStep:{r:!1,t:P},start:{r:!0,t:C},connect:{r:!0,t:D},direction:{r:!0,t:Y},snap:{r:!1,t:T},animate:{r:!1,t:z},animationDuration:{r:!1,t:V},range:{r:!0,t:A},orientation:{r:!1,t:U},margin:{r:!1,t:L},limit:{r:!1,t:O},padding:{r:!1,t:X},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:B},format:{r:!1,t:F},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:$},documentElement:{r:!1,t:q},cssPrefix:{r:!0,t:I},cssClasses:{r:!0,t:W},handleAttributes:{r:!1,t:j}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:S,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(i){if(o(t[i])||void 0!==r[i])n[i].t(e,o(t[i])?t[i]:r[i]);else if(n[i].r)throw new Error("noUiSlider: '"+i+"' is required.")})),e.pips=t.pips;var i=document.createElement("div"),s=void 0!==i.style.msTransform,a=void 0!==i.style.transform;return e.transformRule=a?"transform":s?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function K(e,n,r){var a,h,m,g,v,y,b,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),S=e,E=n.spectrum,N=[],M=[],P=[],A=0,C={},T=e.ownerDocument,z=n.documentElement||T.documentElement,V=T.body,D="rtl"===T.dir||1===n.ort?0:100;function U(t,e){var n=T.createElement("div");return e&&f(n,e),t.appendChild(n),n}function L(t,e){var r=U(t,n.cssClasses.origin),i=U(r,n.cssClasses.handle);if(U(i,n.cssClasses.touchArea),i.setAttribute("data-handle",String(e)),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(t){return function(t,e){if(Y()||R(e))return!1;var r=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],s=["Home","End"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&(i.reverse(),o.reverse());var a,u=t.key.replace("Arrow",""),l=u===o[0],c=u===o[1],h=u===i[0]||u===r[0]||l,f=u===i[1]||u===r[1]||c,p=u===s[0],d=u===s[1];if(!(h||f||p||d))return!0;if(t.preventDefault(),f||h){var m=h?0:1,g=vt(e)[m];if(null===g)return!1;!1===g&&(g=E.getDefaultStep(M[e],h,n.keyboardDefaultStep)),g*=c||l?n.keyboardPageMultiplier:n.keyboardMultiplier,g=Math.max(g,1e-7),g*=h?-1:1,a=N[e]+g}else a=d?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return ft(e,E.toStepping(a),!0,!0),st("slide",e),st("update",e),st("change",e),st("set",e),!1}(t,e)}))),void 0!==n.handleAttributes){var o=n.handleAttributes[e];Object.keys(o).forEach((function(t){i.setAttribute(t,o[t])}))}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?f(i,n.cssClasses.handleLower):e===n.handles-1&&f(i,n.cssClasses.handleUpper),r}function O(t,e){return!!e&&U(t,n.cssClasses.connect)}function X(t,e){return!(!n.tooltips||!n.tooltips[e])&&U(t.firstChild,n.cssClasses.tooltip)}function Y(){return S.hasAttribute("disabled")}function R(t){return h[t].hasAttribute("disabled")}function H(){v&&(ot("update"+_),v.forEach((function(t){t&&i(t)})),v=null)}function j(){H(),v=h.map(X),it("update"+_,(function(t,e,r){if(v&&n.tooltips&&!1!==v[e]){var i=t[e];!0!==n.tooltips[e]&&(i=n.tooltips[e].to(r[e])),v[e].innerHTML=i}}))}function B(t,e){return t.map((function(t){return E.fromStepping(e?E.getStep(t):t)}))}function F(e){var n,r=function(e){if(e.mode===t.PipsMode.Range||e.mode===t.PipsMode.Steps)return E.xVal;if(e.mode===t.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=e.values-1,r=100/n,i=[];n--;)i[n]=n*r;return i.push(100),B(i,e.stepped)}return e.mode===t.PipsMode.Positions?B(e.values,e.stepped):e.mode===t.PipsMode.Values?e.stepped?e.values.map((function(t){return E.fromStepping(E.getStep(E.toStepping(t)))})):e.values:[]}(e),i={},o=E.xVal[0],s=E.xVal[E.xVal.length-1],a=!1,u=!1,l=0;return n=r.slice().sort((function(t,e){return t-e})),(r=n.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==o&&(r.unshift(o),a=!0),r[r.length-1]!==s&&(r.push(s),u=!0),r.forEach((function(n,o){var s,c,h,f,p,d,m,g,v,y,b=n,w=r[o+1],x=e.mode===t.PipsMode.Steps;for(x&&(s=E.xNumSteps[o]),s||(s=w-b),void 0===w&&(w=b),s=Math.max(s,1e-7),c=b;c<=w;c=Number((c+s).toFixed(7))){for(g=(p=(f=E.toStepping(c))-l)/(e.density||1),y=p/(v=Math.round(g)),h=1;h<=v;h+=1)i[(d=l+h*y).toFixed(5)]=[E.fromStepping(d),0];m=r.indexOf(c)>-1?t.PipsType.LargeValue:x?t.PipsType.SmallValue:t.PipsType.NoValue,!o&&a&&c!==w&&(m=0),c===w&&u||(i[f.toFixed(5)]=[c,m]),l=f}})),i}function $(e,r,i){var o,s,a=T.createElement("div"),u=((o={})[t.PipsType.None]="",o[t.PipsType.NoValue]=n.cssClasses.valueNormal,o[t.PipsType.LargeValue]=n.cssClasses.valueLarge,o[t.PipsType.SmallValue]=n.cssClasses.valueSub,o),l=((s={})[t.PipsType.None]="",s[t.PipsType.NoValue]=n.cssClasses.markerNormal,s[t.PipsType.LargeValue]=n.cssClasses.markerLarge,s[t.PipsType.SmallValue]=n.cssClasses.markerSub,s),c=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],h=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function p(t,e){var r=e===n.cssClasses.value,i=r?u:l;return e+" "+(r?c:h)[n.ort]+" "+i[t]}return f(a,n.cssClasses.pips),f(a,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach((function(o){!function(e,o,s){if((s=r?r(o,s):s)!==t.PipsType.None){var u=U(a,!1);u.className=p(s,n.cssClasses.marker),u.style[n.style]=e+"%",s>t.PipsType.NoValue&&((u=U(a,!1)).className=p(s,n.cssClasses.value),u.setAttribute("data-value",String(o)),u.style[n.style]=e+"%",u.innerHTML=String(i.to(o)))}}(o,e[o][0],e[o][1])})),a}function q(){g&&(i(g),g=null)}function I(t){q();var e=F(t),n=t.filter,r=t.format||{to:function(t){return String(Math.round(t))}};return g=S.appendChild($(e,n,r))}function W(){var t=a.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||a[e]:t.height||a[e]}function K(t,e,r,i){var o=function(o){var s,a,u=function(t,e,n){var r=0===t.type.indexOf("touch"),i=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer"),s=0,a=0;if(0===t.type.indexOf("MSPointer")&&(o=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(r){var u=function(e){var r=e.target;return r===n||n.contains(r)||t.composed&&t.composedPath().shift()===n};if("touchstart"===t.type){var l=Array.prototype.filter.call(t.touches,u);if(l.length>1)return!1;s=l[0].pageX,a=l[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,u);if(!c)return!1;s=c.pageX,a=c.pageY}}return e=e||d(T),(i||o)&&(s=t.clientX+e.x,a=t.clientY+e.y),t.pageOffset=e,t.points=[s,a],t.cursor=i||o,t}(o,i.pageOffset,i.target||e);return!!u&&!(Y()&&!i.doNotReject)&&(s=S,a=n.cssClasses.tap,!((s.classList?s.classList.contains(a):new RegExp("\\b"+a+"\\b").test(s.className))&&!i.doNotReject)&&!(t===w.start&&void 0!==u.buttons&&u.buttons>1)&&(!i.hover||!u.buttons)&&(x||u.preventDefault(),u.calcPoint=u.points[n.ort],void r(u,i)))},s=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!x&&{passive:!0}),s.push([t,o])})),s}function J(t){var e,r,i,o,s,u,c=100*(t-(e=a,r=n.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,u=d(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(u.x=0),r?i.top+u.y-s.clientTop:i.left+u.x-s.clientLeft))/W();return c=l(c),n.dir?100-c:c}function Q(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&tt(t,e)}function Z(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return tt(t,e);var r=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);lt(r>0,100*r/e.baseSize,e.locations,e.handleNumbers,e.connect)}function tt(t,e){e.handle&&(p(e.handle,n.cssClasses.active),A-=1),e.listeners.forEach((function(t){z.removeEventListener(t[0],t[1])})),0===A&&(p(S,n.cssClasses.drag),ht(),t.cursor&&(V.style.cursor="",V.removeEventListener("selectstart",s))),e.handleNumbers.forEach((function(t){st("change",t),st("set",t),st("end",t)}))}function et(t,e){if(!e.handleNumbers.some(R)){var r;1===e.handleNumbers.length&&(r=h[e.handleNumbers[0]].children[0],A+=1,f(r,n.cssClasses.active)),t.stopPropagation();var i=[],o=K(w.move,z,Z,{target:t.target,handle:r,connect:e.connect,listeners:i,startCalcPoint:t.calcPoint,baseSize:W(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:M.slice()}),a=K(w.end,z,tt,{target:t.target,handle:r,listeners:i,doNotReject:!0,handleNumbers:e.handleNumbers}),u=K("mouseout",z,Q,{target:t.target,handle:r,listeners:i,doNotReject:!0,handleNumbers:e.handleNumbers});i.push.apply(i,o.concat(a,u)),t.cursor&&(V.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&f(S,n.cssClasses.drag),V.addEventListener("selectstart",s,!1)),e.handleNumbers.forEach((function(t){st("start",t)}))}}function nt(t){t.stopPropagation();var e=J(t.calcPoint),r=function(t){var e=100,n=!1;return h.forEach((function(r,i){if(!R(i)){var o=M[i],s=Math.abs(o-t);(s<e||s<=e&&t>o||100===s&&100===e)&&(n=i,e=s)}})),n}(e);!1!==r&&(n.events.snap||u(S,n.cssClasses.tap,n.animationDuration),ft(r,e,!0,!0),ht(),st("slide",r,!0),st("update",r,!0),n.events.snap?et(t,{handleNumbers:[r]}):(st("change",r,!0),st("set",r,!0)))}function rt(t){var e=J(t.calcPoint),n=E.getStep(e),r=E.fromStepping(n);Object.keys(C).forEach((function(t){"hover"===t.split(".")[0]&&C[t].forEach((function(t){t.call(yt,r)}))}))}function it(t,e){C[t]=C[t]||[],C[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){st("update",e)}))}function ot(t){var e=t&&t.split(".")[0],n=e?t.substring(e.length):t;Object.keys(C).forEach((function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||function(t){return t===k||t===_}(i)&&n!==i||delete C[t]}))}function st(t,e,r){Object.keys(C).forEach((function(i){var o=i.split(".")[0];t===o&&C[i].forEach((function(t){t.call(yt,N.map(n.format.to),e,N.slice(),r||!1,M.slice(),yt)}))}))}function at(t,e,r,i,o,s){var a;return h.length>1&&!n.events.unconstrained&&(i&&e>0&&(a=E.getAbsoluteDistance(t[e-1],n.margin,!1),r=Math.max(r,a)),o&&e<h.length-1&&(a=E.getAbsoluteDistance(t[e+1],n.margin,!0),r=Math.min(r,a))),h.length>1&&n.limit&&(i&&e>0&&(a=E.getAbsoluteDistance(t[e-1],n.limit,!1),r=Math.min(r,a)),o&&e<h.length-1&&(a=E.getAbsoluteDistance(t[e+1],n.limit,!0),r=Math.max(r,a))),n.padding&&(0===e&&(a=E.getAbsoluteDistance(0,n.padding[0],!1),r=Math.max(r,a)),e===h.length-1&&(a=E.getAbsoluteDistance(100,n.padding[1],!0),r=Math.min(r,a))),!((r=l(r=E.getStep(r)))===t[e]&&!s)&&r}function ut(t,e){var r=n.ort;return(r?e:t)+", "+(r?t:e)}function lt(t,e,n,r,i){var o=n.slice(),s=r[0],a=[!t,t],u=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=at(o,t,o[t]+e,a[n],u[n],!1);!1===r?e=0:(e=r-o[t],o[t]=r)})):a=u=[!0];var l=!1;r.forEach((function(t,r){l=ft(t,n[t]+e,a[r],u[r])||l})),l&&(r.forEach((function(t){st("update",t),st("slide",t)})),null!=i&&st("drag",s))}function ct(t,e){return n.dir?100-t-e:t}function ht(){P.forEach((function(t){var e=M[t]>50?-1:1,n=3+(h.length+e*t);h[t].style.zIndex=String(n)}))}function ft(t,e,r,i,o){return o||(e=at(M,t,e,r,i,!1)),!1!==e&&(function(t,e){M[t]=e,N[t]=E.fromStepping(e);var r="translate("+ut(ct(e,0)-D+"%","0")+")";h[t].style[n.transformRule]=r,pt(t),pt(t+1)}(t,e),!0)}function pt(t){if(m[t]){var e=0,r=100;0!==t&&(e=M[t-1]),t!==m.length-1&&(r=M[t]);var i=r-e,o="translate("+ut(ct(e,i)+"%","0")+")",s="scale("+ut(i/100,"1")+")";m[t].style[n.transformRule]=o+" "+s}}function dt(t,e){return null===t||!1===t||void 0===t?M[e]:("number"==typeof t&&(t=String(t)),!1!==(t=n.format.from(t))&&(t=E.toStepping(t)),!1===t||isNaN(t)?M[e]:t)}function mt(t,e,r){var i=c(t),o=void 0===M[0];e=void 0===e||e,n.animate&&!o&&u(S,n.cssClasses.tap,n.animationDuration),P.forEach((function(t){ft(t,dt(i[t],t),!0,!1,r)}));var s=1===P.length?0:1;if(o&&E.hasNoSize()&&(r=!0,M[0]=0,P.length>1)){var a=100/(P.length-1);P.forEach((function(t){M[t]=t*a}))}for(;s<P.length;++s)P.forEach((function(t){ft(t,M[t],!0,!0,r)}));ht(),P.forEach((function(t){st("update",t),null!==i[t]&&e&&st("set",t)}))}function gt(t){if(void 0===t&&(t=!1),t)return 1===N.length?N[0]:N.slice(0);var e=N.map(n.format.to);return 1===e.length?e[0]:e}function vt(t){var e=M[t],r=E.getNearbySteps(e),i=N[t],o=r.thisStep.step,s=null;if(n.snap)return[i-r.stepBefore.startValue||null,r.stepAfter.startValue-i||null];!1!==o&&i+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-i),s=i>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&i-r.stepBefore.highestStep,100===e?o=null:0===e&&(s=null);var a=E.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(a))),null!==s&&!1!==s&&(s=Number(s.toFixed(a))),[s,o]}f(y=S,n.cssClasses.target),0===n.dir?f(y,n.cssClasses.ltr):f(y,n.cssClasses.rtl),0===n.ort?f(y,n.cssClasses.horizontal):f(y,n.cssClasses.vertical),f(y,"rtl"===getComputedStyle(y).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),a=U(y,n.cssClasses.base),function(t,e){var r=U(e,n.cssClasses.connects);h=[],(m=[]).push(O(r,t[0]));for(var i=0;i<n.handles;i++)h.push(L(e,i)),P[i]=i,m.push(O(r,t[i+1]))}(n.connect,a),(b=n.events).fixed||h.forEach((function(t,e){K(w.start,t.children[0],et,{handleNumbers:[e]})})),b.tap&&K(w.start,a,nt,{}),b.hover&&K(w.move,a,rt,{hover:!0}),b.drag&&m.forEach((function(t,e){if(!1!==t&&0!==e&&e!==m.length-1){var r=h[e-1],i=h[e],o=[t],s=[r,i],a=[e-1,e];f(t,n.cssClasses.draggable),b.fixed&&(o.push(r.children[0]),o.push(i.children[0])),b.dragAll&&(s=h,a=P),o.forEach((function(e){K(w.start,e,et,{handles:s,handleNumbers:a,connect:t})}))}})),mt(n.start),n.pips&&I(n.pips),n.tooltips&&j(),ot("update"+k),it("update"+k,(function(t,e,r,i,o){P.forEach((function(t){var e=h[t],i=at(M,t,0,!0,!0,!0),s=at(M,t,100,!0,!0,!0),a=o[t],u=String(n.ariaFormat.to(r[t]));i=E.fromStepping(i).toFixed(1),s=E.fromStepping(s).toFixed(1),a=E.fromStepping(a).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",s),e.children[0].setAttribute("aria-valuenow",a),e.children[0].setAttribute("aria-valuetext",u)}))}));var yt={destroy:function(){for(ot(k),ot(_),Object.keys(n.cssClasses).forEach((function(t){p(S,n.cssClasses[t])}));S.firstChild;)S.removeChild(S.firstChild);delete S.noUiSlider},steps:function(){return P.map(vt)},on:it,off:ot,get:gt,set:mt,setHandle:function(t,e,n,r){if(!((t=Number(t))>=0&&t<P.length))throw new Error("noUiSlider: invalid handle number, got: "+t);ft(t,dt(e,t),!0,!0,r),st("update",t),n&&st("set",t)},reset:function(t){mt(n.start,t)},__moveHandles:function(t,e,n){lt(t,e,M,n)},options:r,updateOptions:function(t,e){var i=gt(),s=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];s.forEach((function(e){void 0!==t[e]&&(r[e]=t[e])}));var a=G(r);s.forEach((function(e){void 0!==t[e]&&(n[e]=a[e])})),E=a.spectrum,n.margin=a.margin,n.limit=a.limit,n.padding=a.padding,n.pips?I(n.pips):q(),n.tooltips?j():H(),M=[],mt(o(t.start)?t.start:i,e)},target:S,removePips:q,removeTooltips:H,getPositions:function(){return M.slice()},getTooltips:function(){return v},getOrigins:function(){return h},pips:I};return yt}function J(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=K(t,G(e),e);return t.noUiSlider=n,n}var Q={__spectrum:w,cssClasses:S,create:J};t.create=J,t.cssClasses=S,t.default=Q,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof fn?hn(fn):"function"==typeof define&&define.amd?define(["exports"],hn):hn((cn="undefined"!=typeof globalThis?globalThis:cn||self).noUiSlider={});class pn{constructor(t,e,n){this.checkFireCallbacks=()=>!this.noFireCallbacks,this.slider=fn.create(t,{start:n,step:1,behaviour:"drag-tap",connect:!0,range:{min:0,max:e},pips:{mode:"count",values:5,density:1}}),this.noFireCallbacks=!1}updateStyle(t){t(this.slider)}bindInput(t,e){let n=this.slider,r=this.checkFireCallbacks;n.on("update",(function(n,i){const o=parseInt(n[i]);t[i].value=`${o}`,r()&&(e[i](o),console.log("slider update event"))})),t.forEach((function(t,e){t.addEventListener("change",(function(){n.setHandle(e,this.value),console.log("input change event")})),t.addEventListener("keydown",(function(t){let r,i=n.get(),o=Number(i[e]),s=n.steps()[e];switch(t.key){case"ArrowDown":case"ArrowRight":r=s[1],!1===r&&(r=1),null!==r&&n.setHandle(e,o+r);break;case"ArrowUp":case"ArrowLeft":r=s[0],!1===r&&(r=1),null!==r&&n.setHandle(e,o-r)}}))}))}setLeft(t){this.noFireCallbacks=!0,this.slider.set([t,null]),this.noFireCallbacks=!1}setRight(t){this.noFireCallbacks=!0,this.slider.set([null,t]),this.noFireCallbacks=!1}}class dn extends class{constructor(t,e){this.div=wt(p("div").call(document.documentElement)),void 0===t?this.id="_"+Math.random().toString(36).substr(2,9):(this.div.attr("id",t),this.id=t),null!=e&&("string"==typeof e.height&&this.div.attr("height",e.height),"string"==typeof e.width&&this.div.attr("width",e.width))}node(){return this.div.node()}}{constructor(t,e){super(t,e),this.updateButton=(t,e)=>{let n=this.div.select("button");n.html(void 0===t.html?t.name:t.html),"string"==typeof t.color&&n.attr("class",`btn btn-sm ${t.color}`),n.attr("flip-status",`${e}`)},this.div.style("margin","0.25em"),this.flip=new Array;let n=`${this.id}-flip-btn`;this.btn=this.div.append("button").attr("type","button").attr("class","btn btn-sm btn-primary").attr("id",n).attr("flip-status","0")}append(t){return this.flip=[...this.flip,...t],this.updateButton(this.flip[0],0),this.event((()=>{})),this}event(t){const e=this.flip,n=this.updateButton;return this.div.select("button").on("click",(function(){const r=Number(wt(this).attr("flip-status")),i=e[r].name,o=(r+1)%e.length;console.log(i),t(i),n(e[o],o)})),this}switch(t){return this.flip.some(((e,n)=>{if(e.name===t)return this.updateButton(e,n),this.div.select("button").dispatch("click"),!0})),this}}class mn{constructor(t){this.heartBeat=()=>{this.ws.send("pong"),setTimeout((()=>this.heartBeat()),5e3)},this.notifyFree=()=>{this.pending=!1},this.currentHandler=()=>this.handleMsg,this.pending=!0,this.ws=new WebSocket(t);const e=this.currentHandler,n=this.notifyFree,r=this.heartBeat;this.ws.onopen=function(){console.log("WebSocket connection established"),n(),r()},this.ws.onmessage=function(t){console.log("WebSocket received"),e()(t.data),n()},this.ws.onclose=function(t){t.wasClean?console.log(`WebSocket connection closed cleanly, code=${t.code}, reason=${t.reason}`):console.log("WebSocket connection died")},this.ws.onerror=function(t){console.error(`WebSocket error observed: ${t}`)}}send(t,e){this.pending?setTimeout((()=>this.send(t,e)),500):(this.pending=!0,this.handleMsg=e,this.ws.send(t))}isClosed(){return this.ws.readyState==WebSocket.CLOSED}}let gn=document.getElementById("graph"),vn=document.getElementById("slider"),yn=document.getElementById("start-time"),bn=document.getElementById("end-time"),wn=new class{constructor(t){this.conn=new mn(t)}range(t,e,n){return this.conn.isClosed()?(console.error("DataPort cannot send `range`, connection not works."),!1):(this.conn.send(`range ${t} ${e}`,n),!0)}init(t){this.range(0,0,(e=>{t(JSON.parse(e).meta)}))}async rangePromise(t,e){return new Promise((n=>{this.range(t,e,(t=>{n(t)}))}))}}("ws://127.0.0.1:8080/");wn.init((t=>{console.log(t);let n=new e(wn,new on(gn,rn)),r=new pn(vn,Number(t.elapse),[0,1]),i=new an(r);n.loadModules([i,new un,new ln]),r.bindInput([yn,bn],[t=>i.signal.get("timeStart")(t),t=>i.signal.get("timeEnd")(t)]);let o=function(t){let e=new dn("player-button");return wt("#player-status").append((()=>e.append([{name:"Play",color:"btn-secondary",html:'<svg transform="scale(1.2)" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="white" class="bi bi-play" viewBox="0 0 16 16">\n      <path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/>\n    </svg>'},{name:"Pause",color:"btn-primary",html:'<svg transform="scale(1.2)" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="white" class="bi bi-pause" viewBox="0 0 16 16">\n      <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>\n    </svg>'}]).event((e=>{"Play"===e?t.signal.get("state")("auto"):"Pause"===e&&t.signal.get("state")("pause")})).node())),e}(i);i.signal.get("state")("still");let s=[function(){o.switch("Play")},function(){o.switch("Pause")}],a=0;document.addEventListener("keydown",(function(t){" "===t.key&&(s[a](),a=(a+1)%s.length)}))}));
//# sourceMappingURL=index.620320f0.js.map
